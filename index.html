<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>flipSyrup by shtaxxx</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>flipSyrup</h1>
        <h2>Cycle-Accurate Hardware Simulation Framework on Abstract FPGA Platforms</h2>
        <a href="https://github.com/shtaxxx/flipSyrup" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a name="whats-flipsyrup" class="anchor" href="#whats-flipsyrup"><span class="octicon octicon-link"></span></a>What's flipSyrup?</h1>

<p>flipSyrup is an FPGA-based prototyping framework on modern FPGA platforms.</p>

<p>flipSyrup genrates an AXI4 IP-core package from your prototyping target RTL design implemented under the resource abstraction of FPGA platform given by flipSyrup.
The generated IP-core can be used as a standard IP-core with other common IP-cores together.</p>

<p>flipSyrup supports both single FPGA platform and multi-FPGA platform.
You can implement a cycle-accurate prototyping system on both situations.</p>

<p>flipSyrup employs two resources abstractions that an FPGA platform has.</p>

<ul>
<li>Syrup Memory

<ul>
<li>Memory system abstraction.</li>
<li>Prototyping target logic can use this abstract memory as an ideal single-cycle memory.</li>
<li>flipSyrup compiler automatically synthesizes a cache-based memory system to simulate cycle-accurately the taget behavior.</li>
</ul>
</li>
<li>Syrup Channel

<ul>
<li>Inter-FPGA interconnection abstraction for multi-FPGA platform based prototyping.</li>
<li>Prototyping target logic can use this abstrct channel as a register to be connected to its neighbor FPGA.</li>
<li>flipSyrup compiler automatically synthesizes a FIFO-based synchronizatoin system to communicate with neighbor FPGAs.</li>
</ul>
</li>
</ul><h1>
<a name="requirements" class="anchor" href="#requirements"><span class="octicon octicon-link"></span></a>Requirements</h1>

<h2>
<a name="software" class="anchor" href="#software"><span class="octicon octicon-link"></span></a>Software</h2>

<ul>
<li>Python (2.7 or later, 3.3 or later)</li>
<li>Icarus Verilog (0.9.6 or later)

<ul>
<li>'iverilog -E' command is used for the preprocessor.</li>
</ul>
</li>
<li>
<p>Jinja2 (2.7 or later)</p>

<ul>
<li>The code generator uses Jinja2 template engine.</li>
<li>'pip install jinja2' (for Python 2.x) or 'pip3 install jinja2' (for Python 3.x)</li>
</ul>
</li>
<li><p>Pyverilog (Python-based Verilog HDL Design Processing Toolkit) is already included in this package.</p></li>
</ul><h3>
<a name="for-rtl-simulation" class="anchor" href="#for-rtl-simulation"><span class="octicon octicon-link"></span></a>for RTL simulation</h3>

<ul>
<li>Icarus Verilog or Synopsys VCS

<ul>
<li>Icarus Verilog is an open-sourced Verilog simulator</li>
<li>VCS is a very fast commercial Verilog simulator</li>
</ul>
</li>
</ul><h3>
<a name="for-synthesis-of-an-fpga-circuit-design-bit-file" class="anchor" href="#for-synthesis-of-an-fpga-circuit-design-bit-file"><span class="octicon octicon-link"></span></a>For synthesis of an FPGA circuit design (bit-file)</h3>

<ul>
<li>Xilinx Platform Studio (14.6 or later)</li>
</ul><h2>
<a name="recommended-fpga-board" class="anchor" href="#recommended-fpga-board"><span class="octicon octicon-link"></span></a>(Recommended) FPGA Board</h2>

<h3>
<a name="single-fpga-platform" class="anchor" href="#single-fpga-platform"><span class="octicon octicon-link"></span></a>Single FPGA Platform</h3>

<ul>
<li>Digilent Atlys (Spartan-6)</li>
<li>Xilinx ML605 (Virtex-6)</li>
<li>Xilinx VC707 (Virtex-7)</li>
</ul><h3>
<a name="multi-fpga-platform" class="anchor" href="#multi-fpga-platform"><span class="octicon octicon-link"></span></a>Multi-FPGA Platform</h3>

<ul>
<li>ScalableCore System (Spartan-6)</li>
</ul><h1>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h1>

<p>If you want to use flipSyrup as a general library, you can install on your environment by using setup.py.</p>

<p>If Python 2.7 is used,</p>

<pre><code>python setup.py install
</code></pre>

<p>If Python 3.x is used,</p>

<pre><code>python3 setup.py install
</code></pre>

<p>Then you can use the flipSyrup command from your console (the version number depends on your environment).</p>

<pre><code>flipsyrup-0.8.0-py3.4.1
</code></pre>

<h1>
<a name="getting-started" class="anchor" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting Started</h1>

<p>First, please make sure TARGET in 'base.mk' in 'input' is correctly defined. If you use the installed pycoram command on your environment, please modify 'TARGET' in base.mk as below (the version number depends on your environment)</p>

<pre><code>TARGET=flipsyrup-0.8.0-py3.4.1
</code></pre>

<p>You can find the sample input projects in 'input/tests/singleport'.</p>

<ul>
<li>userlogic.v  : User-defined Verilog code using Syrup memory blocks</li>
</ul><p>Then type 'make' and 'make run' to simulate sample system.</p>

<pre><code>make build
make sim
</code></pre>

<p>Or type commands as below directly.</p>

<pre><code>python flipsyrup/flipsyrup.py input/sample.config -t userlogic -I include/ --usertest=input/tests/singleport/testbench.v input/tests/singleport/userlogic.v 
iverilog -I syrup_userlogic_v1_00_a/hdl/verilog/ syrup_userlogic_v1_00_a/test/testbench_userlogic.v 
./a.out
</code></pre>

<p>flipSyrup compiler generates a directory for IP-core (syrup_userlogic_v1_00_a, in this example).</p>

<p>'syrup_userlogic_v1_00_a.v' includes </p>

<ul>
<li>IP-core RTL design (hdl/verilog/syrup_userlogic.v)</li>
<li>Test bench (test/testbench_userlogic.v) </li>
<li>XPS setting files (syrup_userlogic_v2_1_0.{mpd,pao,tcl})</li>
</ul><p>A bit-stream can be synthesized by using Xilinx Platform Studio.
Please copy the generated IP-core into 'pcores' directory of XPS project.</p>

<p>This software has some sample project in 'input'.
To build them, please modify 'Makefile', so that the corresponding files and parameters are selected (especially INPUT, MEMIMG and USERTEST)</p>

<h1>
<a name="flipsyrup-command-options" class="anchor" href="#flipsyrup-command-options"><span class="octicon octicon-link"></span></a>flipSyrup Command Options</h1>

<h2>
<a name="command" class="anchor" href="#command"><span class="octicon octicon-link"></span></a>Command</h2>

<pre><code>python flipsyrup.py [config] [-t topmodule] [-I includepath]+ [--memimg=filename] [--usertest=filename] [file]+
</code></pre>

<h2>
<a name="description" class="anchor" href="#description"><span class="octicon octicon-link"></span></a>Description</h2>

<ul>
<li>file

<ul>
<li>User-logic Verilog file (.v) and FPGA system memory specification (.config).
Automatically, .v file is recognized as a user-logic Verilog file, and 
.config file recongnized as a memory specification of used FPGA system, respectively.</li>
</ul>
</li>
<li>config

<ul>
<li>Configuration file which includes memory and device specification </li>
</ul>
</li>
<li>-t

<ul>
<li>Name of user-defined top module, default is "userlogic".</li>
</ul>
</li>
<li>-I

<ul>
<li>Include path for input Verilog HDL files.</li>
</ul>
</li>
<li>--memimg

<ul>
<li>DRAM image file in HEX DRAM (option, if you need).
The file is copied into test directory.
If no file is assigned, the array is initialized with incremental values.</li>
</ul>
</li>
<li>--usertest

<ul>
<li>User-defined test code file (option, if you need).
The code is copied into testbench script.</li>
</ul>
</li>
</ul><h1>
<a name="publication" class="anchor" href="#publication"><span class="octicon octicon-link"></span></a>Publication</h1>

<ul>
<li>Shinya Takamaeda-Yamazaki and Kenji Kise: flipSyrup: Cycle-Accurate Hardware Simulation Framework on Abstract FPGA Platforms, 24th International Conference on Field Programmable Logic and Applications (FPL 2014) (Poster), September 2014.</li>
</ul><h1>
<a name="related-project" class="anchor" href="#related-project"><span class="octicon octicon-link"></span></a>Related Project</h1>

<p><a href="http://shtaxxx.github.io/Pyverilog/">Pyverilog</a></p>

<ul>
<li>Python-based Hardware Design Processing Toolkit for Verilog HDL</li>
<li>Used as basic code analyser and generator</li>
</ul><h1>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h1>

<p>Apache License 2.0
(<a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a>)</p>

<h1>
<a name="copyright-and-contact" class="anchor" href="#copyright-and-contact"><span class="octicon octicon-link"></span></a>Copyright and Contact</h1>

<p>Copyright (C) 2013, Shinya Takamaeda-Yamazaki</p>

<p>E-mail: shinya_at_is.naist.jp</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/shtaxxx/flipSyrup/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/shtaxxx/flipSyrup/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/shtaxxx/flipSyrup"></a> is maintained by <a href="https://github.com/shtaxxx">shtaxxx</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>